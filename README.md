# School-university-system2 (Frontend)

ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุชุทุจูู ุฅุฏุงุฑุฉ ุงููุฏุฑุณุฉ ูุงูุฌุงูุนุฉ.

## ุงููุชุทูุจุงุช
- Node.js (ููุถู ุงูุฅุตุฏุงุฑ 14 ุฃู ุฃุญุฏุซ)
- npm ุฃู yarn

## ุฎุทูุงุช ุงูุชุดุบูู
1. ุชุซุจูุช ุงูุชุจุนูุงุช:
   ```bash
   npm install
   ```
2. ุชุดุบูู ุงูุชุทุจูู ูู ูุถุน ุงูุชุทููุฑ:
   ```bash
   npm start
   ```
   ุงูุชุทุจูู ุณููุชุญ ุชููุงุฆูุงู ุนูู: http://localhost:3000

## ูููู ุงููุฌูุฏุงุช
```
frontend/
  public/           # ูููุงุช ุซุงุจุชุฉ ูุตูุฑ ูุฃููููุงุช
  src/              # ููุฏ ุงููุตุฏุฑ ุงูุฑุฆูุณู
    components/     # ููููุงุช ุงููุงุฌูุฉ
    context/        # ุฅุฏุงุฑุฉ ุงูุญุงูุฉ ูุงูุณูุงู
    hooks/          # ูููุณ ูุฎุตุตุฉ
    i18n/           # ุฏุนู ุชุนุฏุฏ ุงููุบุงุช
    layouts/        # ุชุฎุทูุทุงุช ุงูุตูุญุงุช
    pages/          # ุตูุญุงุช ุงูุชุทุจูู
    routes/         # ุญูุงูุฉ ูุชูุฌูู ุงููุณุงุฑุงุช
    utils/          # ุฏูุงู ูุฃุฏูุงุช ูุณุงุนุฏุฉ
  package.json      # ุชุจุนูุงุช ุงููุดุฑูุน
  README.md         # ูุฐุง ุงูููู
```

## ููุงุญุธุงุช
- ุชุฃูุฏ ูู ุถุจุท ุนููุงู ุงูุฎุงุฏู (backend) ูู ูููุงุช ุงูุจูุฆุฉ ุฃู ูู ููุฏ ุงูุชุทุจูู ุญุณุจ ููุงู ุชุดุบูู ุงููุงุฌูุฉ ูุงูุฎูููุฉ.
- ุงูุชุทุจูู ูุฏุนู ุชุนุฏุฏ ุงููุบุงุช (ุนุฑุจู/ุฅูุฌููุฒู).
- ูุชุฎุตูุต ุงูุฃููููุงุช ุฃู ุงูุตูุฑุ ุงุณุชุฎุฏู ูุฌูุฏ public.

---

# School Management System - Backend API

ูุธุงู ุฅุฏุงุฑุฉ ูุฏุฑุณุฉ ุดุงูู ูุจูู ุจู Node.js ู Express.js ูุน ูุงุนุฏุฉ ุจูุงูุงุช PostgreSQL.

## ๐ ุงููููุฒุงุช

- **ูุธุงู ุงููุตุงุฏูุฉ**: ุชุณุฌูู ุงูุฏุฎูู ูุงูุฎุฑูุฌ ูุน JWT
- **ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู**: ุทูุงุจุ ูุนููููุ ุฃูููุงุก ุฃููุฑุ ุฅุฏุงุฑุฉ
- **ูุธุงู ุงููููุงุช**: ุฑูุน ูุชุญููู ุงููููุงุช ูุน ุงูุชุญูู ูู ุงูุตูุงุญูุงุช
- **ูุธุงู ุงูุฏุฑุฏุดุฉ**: ูุญุงุฏุซุงุช ูุฑุฏูุฉ ูุฌูุงุนูุฉ
- **ุงูุฃูุงู**: ุชุดููุฑ ูููุงุช ุงููุฑูุฑ ูุญูุงูุฉ ุงููุณุงุฑุงุช
- **ุฑูุน ุงููููุงุช**: ุฏุนู ุฃููุงุน ูููุงุช ูุชุนุฏุฏุฉ

## ๐๏ธ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

- **Node.js** - ุจูุฆุฉ ุชุดุบูู JavaScript
- **Express.js** - ุฅุทุงุฑ ุนูู ุงูุฎุงุฏู
- **PostgreSQL** - ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **Sequelize** - ORM ููุงุนุฏุฉ ุงูุจูุงูุงุช
- **JWT** - ุงููุตุงุฏูุฉ ูุงูุชููู
- **bcryptjs** - ุชุดููุฑ ูููุงุช ุงููุฑูุฑ
- **Multer** - ุฑูุน ุงููููุงุช
- **CORS** - ุงูุณูุงุญ ุจุงูุทูุจุงุช ูู ูุตุงุฏุฑ ูุฎุชููุฉ

## ๐ ุงููุชุทูุจุงุช

- Node.js (v14 ุฃู ุฃุญุฏุซ)
- PostgreSQL (v12 ุฃู ุฃุญุฏุซ)
- npm ุฃู yarn

## โ๏ธ ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### 1. ุชุซุจูุช ุงูุชุจุนูุงุช
```bash
npm install
```

### 2. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
ูู ุจุฅูุดุงุก ูุงุนุฏุฉ ุจูุงูุงุช PostgreSQL ุฌุฏูุฏุฉ:
```sql
CREATE DATABASE school_management_db;
```

### 3. ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ
ูู ุจุชุญุฏูุซ ููู `.env` ุจุงููุนูููุงุช ุงูุตุญูุญุฉ:
```env
# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=school_management_db
DB_USER=your_postgres_username
DB_PASSWORD=your_postgres_password

# Server Configuration
PORT=5000
NODE_ENV=development

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_here
JWT_EXPIRES_IN=7d

# Email Configuration
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_app_password

# File Upload Configuration
MAX_FILE_SIZE=10485760
UPLOAD_PATH=./uploads
```

### 4. ุชุดุบูู ุงูุฎุงุฏู
```bash
npm start
```

ุงูุฎุงุฏู ุณูุนูู ุนูู: `http://localhost:5000`

## ๐ API Documentation

### ๐ ุงููุตุงุฏูุฉ (Authentication)

#### ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ
```http
POST /api/auth/register
Content-Type: application/json

{
  "name": "ุฃุญูุฏ ูุญูุฏ",
  "email": "ahmed@example.com",
  "password": "password123",
  "role": "student",
  "gender": "male"
}
```

#### ุชุณุฌูู ุงูุฏุฎูู
```http
POST /api/auth/login
Content-Type: application/json

{
  "email": "ahmed@example.com",
  "password": "password123"
}
```

#### ุฌูุจ ุงูููู ุงูุดุฎุตู
```http
GET /api/auth/profile
Authorization: Bearer YOUR_JWT_TOKEN
```

### ๐ฅ ุงููุณุชุฎุฏููู (Users)

#### ุฌูุจ ุฌููุน ุงููุณุชุฎุฏููู (ููุฅุฏุงุฑุฉ ููุท)
```http
GET /api/users?page=1&limit=20&role=student&search=ุฃุญูุฏ
Authorization: Bearer YOUR_JWT_TOKEN
```

#### ุฌูุจ ูุณุชุฎุฏู ูุญุฏุฏ
```http
GET /api/users/:id
Authorization: Bearer YOUR_JWT_TOKEN
```

### ๐ ุงููููุงุช (Files)

#### ุฑูุน ููู ุฌุฏูุฏ (ูููุนูููู ูุงูุฅุฏุงุฑุฉ)
```http
POST /api/files
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: multipart/form-data

{
  "title": "ุฏุฑุณ ุงูุฑูุงุถูุงุช",
  "description": "ุดุฑุญ ุงูุฌุจุฑ",
  "type": "lesson",
  "allowedRoles": ["student", "parent"],
  "file": [FILE]
}
```

#### ุฌูุจ ุฌููุน ุงููููุงุช
```http
GET /api/files?page=1&limit=20&type=lesson
Authorization: Bearer YOUR_JWT_TOKEN
```

#### ุชุญููู ููู
```http
GET /api/files/:id/download
Authorization: Bearer YOUR_JWT_TOKEN
```

### ๐ฌ ุงูุฏุฑุฏุดุฉ (Chat)

#### ุฅูุดุงุก ูุญุงุฏุซุฉ ุฌุฏูุฏุฉ
```http
POST /api/chat/conversations
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: application/json

{
  "title": "ููุงูุดุฉ ุงููุงุฌุจ",
  "type": "private",
  "participantIds": [2, 3]
}
```

#### ุฌูุจ ูุญุงุฏุซุงุช ุงููุณุชุฎุฏู
```http
GET /api/chat/conversations
Authorization: Bearer YOUR_JWT_TOKEN
```

#### ุฅุฑุณุงู ุฑุณุงูุฉ
```http
POST /api/chat/conversations/:conversationId/messages
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: multipart/form-data

{
  "content": "ูุฑุญุจุงุ ููู ุญุงูููุ",
  "replyToMessageId": 123,
  "attachment": [FILE]
}
```

## ๐๏ธ ูููู ุงููุดุฑูุน

```
644b5e15/
โโโ controllers/          # ุงููุชุญููุงุช
โ   โโโ authController.js
โ   โโโ chatController.js
โ   โโโ fileController.js
โโโ middleware/           # ุงููุณุทุงุก
โ   โโโ auth.js
โ   โโโ upload.js
โโโ models/              # ููุงุฐุฌ ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โโโ users.js
โ   โโโ file.js
โ   โโโ message.js
โ   โโโ conversation.js
โ   โโโ conversationParticipant.js
โ   โโโ index.js
โโโ routes/              # ุงููุณุงุฑุงุช
โ   โโโ auth.js
โ   โโโ users.js
โ   โโโ chat.js
โ   โโโ files.js
โโโ uploads/             # ูุฌูุฏ ุงููููุงุช ุงููุฑููุนุฉ
โโโ .env                 # ูุชุบูุฑุงุช ุงูุจูุฆุฉ
โโโ db.js               # ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ server.js           # ุงูุฎุงุฏู ุงูุฑุฆูุณู
โโโ package.json        # ุชุจุนูุงุช ุงููุดุฑูุน
```

## ๐ค ุฃุฏูุงุฑ ุงููุณุชุฎุฏููู

- **admin**: ุฅุฏุงุฑุฉ ูุงููุฉ ูููุธุงู
- **teacher**: ุฑูุน ุงููููุงุช ูุฅุฏุงุฑุฉ ุงููุตูู
- **student**: ุงููุตูู ูููููุงุช ูุงูุฏุฑุฏุดุฉ
- **parent**: ูุชุงุจุนุฉ ุฃุทูุงููู ูุงูุชูุงุตู

## ๐ ุงูุฃูุงู

- ุชุดููุฑ ูููุงุช ุงููุฑูุฑ ุจุงุณุชุฎุฏุงู bcrypt
- ูุตุงุฏูุฉ JWT ููุญูุงูุฉ
- ุงูุชุญูู ูู ุงูุตูุงุญูุงุช ููู ูุณุงุฑ
- ููุชุฑุฉ ุฃููุงุน ุงููููุงุช ุงููุฑููุนุฉ
- ุญูุงูุฉ ูู SQL Injection

## ๐ ุงูุชุทููุฑ

### ุชุดุบูู ูู ูุถุน ุงูุชุทููุฑ
```bash
npm run dev
```

### ูุญุต ุงูุตุญุฉ
```http
GET /health
```

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ูุงุนุฏุฉ ุงูุจูุงูุงุช**: ุชุฃูุฏ ูู ุชุดุบูู PostgreSQL ูุจู ุจุฏุก ุงูุฎุงุฏู
2. **ูุชุบูุฑุงุช ุงูุจูุฆุฉ**: ูู ุจุชุญุฏูุซ ููู `.env` ุจุงููุนูููุงุช ุงูุตุญูุญุฉ
3. **ุงููููุงุช**: ุณูุชู ุฅูุดุงุก ูุฌูุฏ `uploads` ุชููุงุฆูุงู
4. **ุงูุฃูุงู**: ุบูุฑ `JWT_SECRET` ูู ุงูุฅูุชุงุฌ
5. **ุงูุญุฌู**: ุงูุญุฏ ุงูุฃูุตู ูุญุฌู ุงูููู 10MB

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฎุทุฃ ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุชุฃูุฏ ูู ุชุดุบูู PostgreSQL
- ุชุญูู ูู ูุนูููุงุช ุงูุงุชุตุงู ูู `.env`

### ุฎุทุฃ ูู ุฑูุน ุงููููุงุช
- ุชุฃูุฏ ูู ูุฌูุฏ ูุฌูุฏ `uploads`
- ุชุญูู ูู ุตูุงุญูุงุช ุงููุชุงุจุฉ

### ุฎุทุฃ ูู JWT
- ุชุฃูุฏ ูู ูุฌูุฏ `JWT_SECRET` ูู `.env`
- ุชุญูู ูู ุตุญุฉ ุงูุชููู

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงููุ ูุฑุฌู ุงูุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ.
